<script>
	// ğŸŒŸ 1. å°è¯•ä½¿ç”¨ importã€‚å¦‚æœè¿˜æŠ¥ module é”™è¯¯ï¼Œè¯·å°†è¿™ä¸€è¡Œæ”¹ä¸ºï¼š
	// const { DB } = require('@/utils/db.js');
	import { DB } from '@/utils/db.js';
import { useTheme } from '@/composables/useTheme.js';

	export default {
		onLaunch: function() {
		
			const { initTheme } = useTheme();
			initTheme(); // åˆå§‹åŒ–å¯¼èˆªæ é¢œè‰²
			console.log('App Launch');
			// ğŸŒŸ 2. åˆå§‹åŒ– SQLite æ•°æ®åº“
			// #ifdef APP-PLUS
			DB.init().then(() => {
				console.log('âœ… [System] Database initialized successfully.');
			}).catch(err => {
				console.error('âŒ [System] Database initialization failed:', err);
			});
			// #endif
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
			// æ¨é€åŠŸèƒ½å·²ç§»é™¤ï¼Œè¿™é‡Œä¸å†è°ƒç”¨ä»»åŠ¡æ’ç­
		}
	}
</script>


<style lang="scss">
/* æ¯ä¸ªé¡µé¢å…¬å…±css */
@import '@/uni.scss';

/* =========================================================
   ğŸŒ é»˜è®¤ä¸»é¢˜ (Day Mode) 
   ========================================================= */
page {
    /* å®šä¹‰å˜é‡ï¼šé¡µé¢çº§ */
    --bg-color: #f5f5f5;           /* æ•´ä½“å¤§èƒŒæ™¯ */
    --card-bg: #ffffff;            /* å¡ç‰‡/å†…å®¹å—èƒŒæ™¯ */
    --text-color: #333333;         /* ä¸»æ ‡é¢˜æ–‡å­— */
    --text-sub: #666666;           /* æ¬¡è¦/æè¿°æ–‡å­— */
    --border-color: #eeeeee;       /* è¾¹æ¡†/åˆ†å‰²çº¿ */
    --input-bg: #ffffff;           /* è¾“å…¥æ¡†èƒŒæ™¯ */
    --pill-bg: #ffffff;            /* èƒ¶å›Š/æ ‡ç­¾èƒŒæ™¯ */
    --tool-bg: #f9f9f9;            /* åº•éƒ¨å·¥å…·æ èƒŒæ™¯ */
    --shadow: 0 4rpx 12rpx rgba(0,0,0,0.05); /* é˜´å½± */
    --nav-bg: #ffffff;             /* è‡ªå®šä¹‰å¯¼èˆªæ èƒŒæ™¯ */
}

/* =========================================================
   ğŸŒ™ å¤œé—´æ¨¡å¼ (Dark Mode) - å½“é¡µé¢å®¹å™¨æœ‰ .dark-mode ç±»æ—¶ç”Ÿæ•ˆ
   ========================================================= */
.dark-mode {
    --bg-color: #121212;           /* æ·±é»‘èƒŒæ™¯ */
    --card-bg: #1e1e1e;            /* æ·±ç°å¡ç‰‡ */
    --text-color: #e0e0e0;         /* æµ…ç°æ–‡å­— */
    --text-sub: #aaaaaa;           /* æš—ç°æ–‡å­— */
    --border-color: #333333;       /* æ·±è‰²è¾¹æ¡† */
    --input-bg: #2c2c2c;           /* è¾“å…¥æ¡†æ·±è‰² */
    --pill-bg: #252525;            /* èƒ¶å›Šæ·±è‰² */
    --tool-bg: #1e1e1e;            /* å·¥å…·æ æ·±è‰² */
    --shadow: 0 4rpx 12rpx rgba(0,0,0,0.5); /* æ›´æ·±çš„é˜´å½± */
    --nav-bg: #1e1e1e;             /* å¯¼èˆªæ å˜é»‘ */
}

/* å…¨å±€åº”ç”¨èƒŒæ™¯è‰² */
page {
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: background-color 0.3s, color 0.3s;
}

/* ä¿®å¤ scroll-view åœ¨å¤œé—´æ¨¡å¼ä¸‹çš„é»˜è®¤èƒŒæ™¯ */
scroll-view {
    background-color: transparent;
}
</style>

